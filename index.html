<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§€ ì¹˜ì¦ˆ í—Œí„°</title>
    <link rel="stylesheet" href="style.css">

    <script type="module">
        // Firebase v9 SDK URL ì‚¬ìš©
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-analytics.js";
        // Firestore ê´€ë ¨ ëª¨ë“ˆ ì„í¬íŠ¸
        import { getFirestore, collection, addDoc, query, orderBy, limit, getDocs, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

        // Your web app's Firebase configuration (ìŠ¤í¬ë¦°ìƒ· ê¸°ë°˜)
        const firebaseConfig = {
            apiKey: "AIzaSyBO8H0nqatH_bp_zeoSs3e2oEo777mISmg",
            authDomain: "cheesehunter-f3348.firebaseapp.com",
            projectId: "cheesehunter-f3348",
            storageBucket: "cheesehunter-f3348.firebasestorage.app",
            messagingSenderId: "278725955857",
            appId: "1:278725955857:web:55b8f4e256b5540d24bcb0",
            measurementId: "G-96PEZ553QX"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const db = getFirestore(app); 

        // Firebase ê°ì²´ë¥¼ game.jsì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ windowì— ë…¸ì¶œ
        window.db = db;
        window.serverTimestamp = serverTimestamp;
        window.collection = collection;
        window.addDoc = addDoc;
        window.query = query;
        window.orderBy = orderBy;
        window.limit = limit;
        window.getDocs = getDocs;

    </script>
    
    </head>
<body>
    
<div id="game-info">
        <h2>ê²Œì„ ë°©ë²• ğŸ­</h2>
        <ul id="control-list">
            <li>**ì´ë™:** í™”ì‚´í‘œ í‚¤ ë˜ëŠ” **WASD** í‚¤ë¡œ ë±€(ì¥)ì„ ì¡°ì‘í•©ë‹ˆë‹¤.</li>
            <li>**ì¹˜ì¦ˆ íšë“ (ğŸ§€):** ì¹˜ì¦ˆì— ë‹¿ìœ¼ë©´ í€´ì¦ˆ ì°½ì´ ëœ¹ë‹ˆë‹¤. **íŒíŠ¸ì™€ ì´ˆì„±ì„ ë³´ê³  ì •ë‹µ**ì„ ë§íˆë©´ ê¼¬ë¦¬ê°€ ê¸¸ì–´ì§€ê³  ì ìˆ˜ë¥¼ ì–»ìŠµë‹ˆë‹¤.</li>
            <li>**ì½¤ë³´ (ğŸ”¥):** ì—°ì† ì •ë‹µ ì‹œ ì½¤ë³´ ë°°ìœ¨ì´ ì ìš©ë˜ì–´ ì ìˆ˜ê°€ í­ë°œì ìœ¼ë¡œ ì¦ê°€í•©ë‹ˆë‹¤.</li>
        </ul>
        <h3>ì•„ì´í…œ ë° ë””ë²„í”„</h3>
        <ul id="item-list">
            <li>**ğŸ¥‡ í° ì¹˜ì¦ˆ:** í€´ì¦ˆ ì—†ì´ ì¦‰ì‹œ **+500ì ** ë° ê¼¬ë¦¬ 3ì¹¸ ì¦ê°€!</li>
            <li>**ğŸ’£ í­íƒ„:** ë‹¿ìœ¼ë©´ í€´ì¦ˆ ì—†ì´ ì¦‰ì‹œ **ê¼¬ë¦¬ 3ì¹¸ ê°ì†Œ** (ì£¼ì˜!).</li>
            <li>**ğŸ„ ë²„ì„¯:** 5ì´ˆê°„ ì´ë™ ì†ë„ê°€ 2ë°°ë¡œ **ë¹¨ë¼ì§‘ë‹ˆë‹¤**.</li>
            <li>**â³ ì‹œê³„:** 5ì´ˆê°„ ì´ë™ ì†ë„ê°€ 1/2ë°°ë¡œ **ëŠë ¤ì§‘ë‹ˆë‹¤**.</li>
            <li>**ğŸ”« ê³ ì–‘ì´ ë¬´ê¸°:** ë‹¿ìœ¼ë©´ ê¼¬ë¦¬ê°€ ê°ì†Œí•˜ë©°, **ê³ ì–‘ì´ì˜ ì›ê±°ë¦¬ ì´ì•Œ ê³µê²©**ì´ 5ì´ˆê°„ í™œì„±í™”ë©ë‹ˆë‹¤.</li>
        </ul>
    </div>

    <div id="game-container">
        <h1>ì¹˜ì¦ˆ í—Œí„°</h1>
        <div id="status-bar">
            <div id="score-board">ì ìˆ˜: <span id="score">0</span></div>
            <button id="dark-mode-toggle" class="mode-toggle-button">ğŸŒ™ ë‹¤í¬ ëª¨ë“œ</button>
        </div>
        
        <canvas id="gameCanvas" width="875" height="525"></canvas> 
        
        <div id="quiz-overlay" class="hidden">
            <p id="quiz-question"></p>
            <input type="text" id="quiz-input" placeholder="ì •ë‹µ ì…ë ¥" maxlength="10">
            <button id="quiz-submit-button">í™•ì¸</button>
        </div>

        <div id="message" class="hidden">
            <h2>ê²Œì„ ì˜¤ë²„!</h2>
            <p id="final-score">ìµœì¢… ì ìˆ˜: 0ì </p>
            <input type="text" id="player-name-input" placeholder="ì´ë¦„ ì…ë ¥ (3ì ì´í•˜)" maxlength="3">
            <button id="save-score-button">ì ìˆ˜ ë“±ë¡</button>
            <button id="share-score-button">ì ìˆ˜ ê³µìœ í•˜ê¸° ğŸš€</button>
            <button onclick="initializeGame()">ë‹¤ì‹œ ì‹œì‘</button>
        </div>
    </div>
    
    <div style="text-align: center; margin: 20px 0; max-width: 925px;">
        <p style="color: gray;">[ì—¬ê¸°ì— AdSense ê´‘ê³ ê°€ í‘œì‹œë©ë‹ˆë‹¤]</p>
    </div>

    <div id="high-scores-container" style="max-width: 925px;">
        <h2>ğŸ† ëª…ì˜ˆì˜ ì „ë‹¹ (Top 10)</h2>
        <ol id="high-scores-list" style="list-style-position: inside; padding: 0;">
            <li>ì ìˆ˜ë¥¼ ë¡œë“œ ì¤‘ì…ë‹ˆë‹¤...</li>
        </ol>
    </div>
    
    <script src="game.js"></script>

    <footer style="text-align: center; padding: 20px 0; margin-top: 30px; border-top: 1px solid #ccc; width: 100%; max-width: 925px;">
        <a href="privacy.html" style="margin: 0 10px; text-decoration: none; color: #333;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a> | 
        <a href="terms.html" style="margin: 0 10px; text-decoration: none; color: #333;">ì´ìš©ì•½ê´€</a> | 
        <a href="about.html" style="margin: 0 10px; text-decoration: none; color: #333;">About & Contact</a>
        <p style="margin-top: 10px; font-size: 0.8em; color: gray;">&copy; 2025 Cheese Hunter Game</p>
    </footer>
</body>
</html>
